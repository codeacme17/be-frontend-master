## 理解 Javascript 中的执行上下文栈，可以应用堆栈信息快速定位问题

### 执行上下文栈

Javascript 的执行上下文栈是一种用于追踪 Javascript 程序中执行上下文的数据结构。在 JS 中，每当函数被调用时，都会创建一个新的执行上下文，并将其推入到执行上下文栈中，执行上下文栈是一个后进先出(LIFO)的数据结构，因此新的执行上下文总是在栈的顶部

当函数执行完毕后，它的执行上下文将从栈中弹出，控制权将返回到上一个执行上下文，这个过程一直持续到 JS 程序执行完毕位置。在执行上下文栈中，全局执行上下文 `GlobalExectionContext` 是第一个被推入到栈中的执行上下文，并且在整个程序执行过程中始终存在

执行上下文栈对于 JS 引擎来说非常重要，因为它允许引擎跟踪程序中正在执行的上下文，并且在函数调用和返回时正确的处理变量的作用域和内存管理

### 调试

在开发过程中，可以使用例如 chrome 的开发者工具来追踪执行上下文栈并定位问题

1. 在调试面板中，选择 `Sources` 选项卡

2. 在左侧的 `Sources` 窗格中，选择包含出现 bug 的 JavaScript 文件

3. 在代码中放置断点，可以通过在代码行号的左侧单击以打开断点。当 JavaScript 执行到这个点时，代码执行将停止，并且可以查看当前的执行上下文栈状态

4. 从调试面板的下方窗格中选择 `Scope` 选项卡，以查看当前的变量和作用域

5. 通过查看作用域和变量，可以判断代码是否在运行时出现错误

6. 还可以在 `Call Stack` 选项卡中查看当前的执行上下文栈。在这里，您可以看到每个调用的函数和当前的执行上下文状态

