## CSS 模块化方案、如何配置按需加载、如何防止 CSS 阻塞渲染

### CSS 模块化方案

在 CSS 中实现模块化可以帮助我们更好地组织和管理样式代码，避免全局污染和命名冲突，以下是几种常见的 CSS 模块化方案

- BEM(Block Element Modifier): BEM 是一种命名约定，通过将类名分为块 (Block) 、元素 (Element) 和修饰符 (Modifier) 三个部分，实现样式的模块化和可重用性

- CSS Modules：CSS Modules 是一种 CSS 模块化解决方案，它通过在类名上自动添加唯一的哈希值，解决了命名冲突的问题，并提供了本地作用域的样式（Vue 框架中 `scoped` 的解决方案）

- CSS-in-JS：CSS-in-JS 是一种将 CSS 写在 Javascript 中的方式，通过 JS 的能力来实现样式的模块化，例如使用 `style-components` 或 `emotion` 等库

### 按需加载

按需加载 CSS 是一种优化策略，它可以减少页面加载时所需的 CSS 文件大小，从而加快页面渲染速度，以下是一些配置按需加载的方法

- 使用工具库：想 webpack、Parcel、Rollup 等构建工具都提供了相应的插件或配置来实现按需加载 CSS。通过这些工具，可以根据需要动态的引入所需的 CSS 文件

- CSS 预处理器的 `mixins`：如果使用 CSS 预处理器如 SASS 或 LESS, 可以将样式定义为 `mixins`，然后在需要的地方引入，这样只会将使用到的样式编译为最终的 CSS 文件

- 动态加载 CSS：使用 JS 动态创建 `<link>` 标签，将样式表添加到页面中，这样可以根据需要动态的加载所需的 CSS 文件

### 防止 CSS 阻塞渲染

当浏览器遇到外部 CSS 时，会阻塞页面的渲染，直到 CSS 文件加载和解析完成，为了防止 CSS 阻塞渲染，可以采取以下措施

- 内联关键 CSS：将关键的 CSS（如页面上首屏所需的样式）内联到 HTML 的 `<style>` 标签中，使其不需要额外的网络请求，从而加快页面的渲染速度

- 使用媒体查询：将较大的 CSS 文件拆分为多个文件，并使用媒体查询根据不同的设备和视图条件加载不同的 CSS 文件

- 异步加载 CSS：使用 JS 动态创建 `<link>` 标签，将 CSS 文件添加到页面中，提过将 CSS 文件的加载与页面的渲染分开，可以防止 CSS 阻塞页面的渲染
